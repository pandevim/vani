import { provideStore, initializeStore } from './store.ripple';
import { PlaylistHeader } from './components/PlaylistHeader.ripple';
import { TrackList } from './components/TrackList.ripple';
import { PlayerBar } from './components/PlayerBar.ripple';

export component App() {
	const store = provideStore();
	initializeStore();

	if (!store.@isLoaded) {
		<p>{'Loading tracks...'}</p>
	}

	if (store.@isLoaded) {
		<div class="min-h-screen">
			<PlaylistHeader themeColor={store.@themeColor} />
			<TrackList list={store.@list} />
			<PlayerBar track={store.@currentTrack} themeColor={store.@themeColor} />
		</div>
	}
}
